<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{{ title }} - Developer Tools</title>
    <link rel="stylesheet" href="/static/css/developer_tools.css">
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üîß</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <h1>üöÄ Enhanced CSP System</h1>
            <p>Advanced AI-to-AI Communication Platform - Developer Tools</p>
            <p>Version: {{ version }} | Status: <span class="status-indicator status-running"></span>{{ status|title }}</p>
        </header>

        <div class="dashboard-grid">
            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">üé®</div>
                    <div class="card-title">Visual Designer</div>
                </div>
                <div class="card-content">
                    <p>Design CSP processes visually with drag-and-drop interface</p>
                    <button class="btn btn-success" onclick="launchVisualDesigner()">Launch Designer</button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">üêõ</div>
                    <div class="card-title">CSP Debugger</div>
                </div>
                <div class="card-content">
                    <p>Debug CSP processes with breakpoints and step-through execution</p>
                    <button class="btn btn-warning" onclick="launchDebugger()">Launch Debugger</button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">üìä</div>
                    <div class="card-title">Performance Monitor</div>
                </div>
                <div class="card-content">
                    <p>Real-time performance metrics and system monitoring</p>
                    <button class="btn" onclick="openPerformanceMonitor()">View Metrics</button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">üß™</div>
                    <div class="card-title">Test Runner</div>
                </div>
                <div class="card-content">
                    <p>Automated testing framework for CSP processes</p>
                    <button class="btn btn-success" onclick="runTests()">Run Tests</button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">ü§ñ</div>
                    <div class="card-title">AI Agents</div>
                </div>
                <div class="card-content">
                    <p>Manage and monitor AI agents in the system</p>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value" id="activeAgents">5</div>
                            <div class="metric-label">Active Agents</div>
                        </div>
                    </div>
                    <button class="btn" onclick="manageAgents()">Manage Agents</button>
                </div>
            </div>

            <div class="dashboard-card">
                <div class="card-header">
                    <div class="card-icon">üîó</div>
                    <div class="card-title">Communication Channels</div>
                </div>
                <div class="card-content">
                    <p>Monitor and configure communication channels</p>
                    <div class="metrics-grid">
                        <div class="metric-item">
                            <div class="metric-value" id="activeChannels">8</div>
                            <div class="metric-label">Active Channels</div>
                        </div>
                    </div>
                    <button class="btn" onclick="manageChannels()">Manage Channels</button>
                </div>
            </div>
        </div>

        <div class="dashboard-card">
            <div class="card-header">
                <div class="card-icon">üìà</div>
                <div class="card-title">System Metrics</div>
            </div>
            <div class="card-content">
                <div class="metrics-grid">
                    <div class="metric-item">
                        <div class="metric-value" id="cpuUsage">45%</div>
                        <div class="metric-label">CPU Usage</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="memoryUsage">68%</div>
                        <div class="metric-label">Memory Usage</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="activeProcesses">12</div>
                        <div class="metric-label">Active Processes</div>
                    </div>
                    <div class="metric-item">
                        <div class="metric-value" id="systemUptime">2h 45m</div>
                        <div class="metric-label">System Uptime</div>
                    </div>
                </div>
            </div>
        </div>

        <footer class="footer">
            <p>Enhanced CSP System {{ version }} | Powered by Advanced AI Communication</p>
        </footer>
    </div>

    <script>
        // JavaScript functions for the developer tools
        function launchVisualDesigner() {
            alert('Visual Designer would open here!');
            // In a real implementation, this would open the visual designer
            console.log('Launching Visual Designer...');
        }

        function launchDebugger() {
            alert('CSP Debugger would open here!');
            console.log('Launching CSP Debugger...');
        }

        function openPerformanceMonitor() {
            // Open performance monitor in new tab
            window.open('/api/metrics', '_blank');
        }

        function runTests() {
            alert('Test Runner would execute here!');
            console.log('Running CSP Tests...');
        }

        function manageAgents() {
            alert('Agent Management panel would open here!');
            console.log('Opening Agent Management...');
        }

        function manageChannels() {
            alert('Channel Management panel would open here!');
            console.log('Opening Channel Management...');
        }

        // Update metrics periodically
        function updateMetrics() {
            fetch('/api/metrics')
                .then(response => response.json())
                .then(data => {
                    document.getElementById('cpuUsage').textContent = data.cpu_usage + '%';
                    document.getElementById('memoryUsage').textContent = data.memory_usage + '%';
                    document.getElementById('activeProcesses').textContent = data.active_processes;
                    document.getElementById('activeAgents').textContent = data.agents;
                    document.getElementById('activeChannels').textContent = data.channels;
                })
                .catch(error => console.error('Error fetching metrics:', error));
        }

        // Update metrics every 5 seconds
        setInterval(updateMetrics, 5000);
        
        // Initial metrics load
        updateMetrics();
    </script>
</body>
</html>
